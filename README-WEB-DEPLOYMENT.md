# ğŸŒ Web+æœ¬åœ°æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å°†Tauriæ¡Œé¢åº”ç”¨æ”¹é€ ä¸ºWeb+æœ¬åœ°æœåŠ¡å™¨æ¶æ„ï¼Œå®ç°å±€åŸŸç½‘å¤šäººåä½œä½¿ç”¨ã€‚

## ğŸ—ï¸ æ¶æ„è¯´æ˜

### æ”¹é€ å‰ï¼ˆTauriæ¶æ„ï¼‰
```
æ¡Œé¢åº”ç”¨ (Tauri)
â”œâ”€â”€ å‰ç«¯ (React + TypeScript)
â”œâ”€â”€ åç«¯ (Rust)
â””â”€â”€ æœ¬åœ°å­˜å‚¨ (æ–‡ä»¶ç³»ç»Ÿ)
```

### æ”¹é€ åï¼ˆWeb+æœåŠ¡å™¨æ¶æ„ï¼‰
```
Webåº”ç”¨ + æœ¬åœ°æœåŠ¡å™¨
â”œâ”€â”€ å‰ç«¯ (React Webåº”ç”¨)
â”œâ”€â”€ åç«¯ (Node.js + Express)
â”œâ”€â”€ æ•°æ®åº“ (SQLite)
â”œâ”€â”€ å®æ—¶åŒæ­¥ (WebSocket)
â””â”€â”€ æ–‡ä»¶ç®¡ç† (Multer)
```

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1: å®‰è£…ä¾èµ–
```bash
# å®‰è£…æ–°å¢çš„æœåŠ¡å™¨ç«¯ä¾èµ–
npm install express cors helmet sqlite3 multer socket.io socket.io-client bcryptjs jsonwebtoken compression express-rate-limit

# å®‰è£…å¼€å‘ä¾èµ–
npm install --save-dev nodemon concurrently
```

### æ­¥éª¤2: ç¯å¢ƒé…ç½®
```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ä½ çš„è®¾ç½®
nano .env
```

### æ­¥éª¤3: æ„å»ºå‰ç«¯åº”ç”¨
```bash
# æ„å»ºWebç‰ˆæœ¬
npm run build:web
```

### æ­¥éª¤4: å¯åŠ¨æœåŠ¡å™¨
```bash
# å¼€å‘æ¨¡å¼ï¼ˆå‰ç«¯+åç«¯åŒæ—¶å¯åŠ¨ï¼‰
npm run dev:fullstack

# æˆ–è€…åˆ†åˆ«å¯åŠ¨
npm run server:dev  # å¯åŠ¨åç«¯æœåŠ¡å™¨
npm run dev         # å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

# ç”Ÿäº§æ¨¡å¼
npm run build:web   # æ„å»ºå‰ç«¯
npm run server:start # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```

## ğŸ”§ æœåŠ¡å™¨é…ç½®

### æ•°æ®åº“åˆå§‹åŒ–
æœåŠ¡å™¨é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºSQLiteæ•°æ®åº“å’Œè¡¨ç»“æ„ã€‚æ•°æ®åº“æ–‡ä»¶ä½ç½®ï¼š`./data/cms_content.db`

### æ–‡ä»¶ä¸Šä¼ ç›®å½•
ä¸Šä¼ çš„æ–‡ä»¶å­˜å‚¨åœ¨ `./uploads` ç›®å½•ï¼ŒæŒ‰ç±»å‹åˆ†ç±»ï¼š
- `./uploads/images/` - å›¾ç‰‡æ–‡ä»¶
- `./uploads/documents/` - æ–‡æ¡£æ–‡ä»¶
- `./uploads/other/` - å…¶ä»–æ–‡ä»¶

## ğŸŒ è®¿é—®æ–¹å¼

### æœ¬åœ°è®¿é—®
```
http://localhost:3000
```

### å±€åŸŸç½‘è®¿é—®
1. è·å–æœåŠ¡å™¨IPåœ°å€
```bash
# Windows
ipconfig

# Linux/Mac
ifconfig
```

2. å…¶ä»–è®¾å¤‡é€šè¿‡IPè®¿é—®
```
http://192.168.1.XXX:3000
```

## ğŸ‘¥ å¤šç”¨æˆ·åä½œåŠŸèƒ½

### å®æ—¶æ•°æ®åŒæ­¥
- ä½¿ç”¨WebSocketå®ç°å®æ—¶æ•°æ®åŒæ­¥
- ç”¨æˆ·Aä¿®æ”¹æ•°æ®ï¼Œç”¨æˆ·Bç•Œé¢è‡ªåŠ¨æ›´æ–°
- æ”¯æŒäº§å“ã€æ¨¡æ¿ã€ç´ æç­‰æ•°æ®çš„å®æ—¶åŒæ­¥

### æ“ä½œæ—¥å¿—
- è®°å½•æ‰€æœ‰ç”¨æˆ·çš„æ“ä½œè¡Œä¸º
- è¿½è¸ªæ•°æ®ä¿®æ”¹å†å²
- ä¾¿äºé—®é¢˜æ’æŸ¥å’Œæ•°æ®æ¢å¤

## ğŸ” å®‰å…¨è®¾ç½®

### åŸºç¡€å®‰å…¨
- CORSè·¨åŸŸä¿æŠ¤
- è¯·æ±‚é¢‘ç‡é™åˆ¶
- æ–‡ä»¶ä¸Šä¼ ç±»å‹é™åˆ¶
- XSSå’ŒCSRFé˜²æŠ¤

### ç”Ÿäº§ç¯å¢ƒå»ºè®®
1. ä¿®æ”¹é»˜è®¤ç«¯å£
2. è®¾ç½®é˜²ç«å¢™è§„åˆ™
3. å¯ç”¨HTTPSï¼ˆä½¿ç”¨nginxåå‘ä»£ç†ï¼‰
4. å®šæœŸå¤‡ä»½æ•°æ®åº“

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–
- ä½¿ç”¨ç´¢å¼•æå‡æŸ¥è¯¢æ€§èƒ½
- å®šæœŸæ¸…ç†æ— ç”¨æ•°æ®
- æ•°æ®åº“å¤‡ä»½ç­–ç•¥

### æ–‡ä»¶ç®¡ç†
- å›¾ç‰‡å‹ç¼©å’Œä¼˜åŒ–
- é™æ€èµ„æºCDNåŠ é€Ÿ
- æ–‡ä»¶æ¸…ç†å®šæ—¶ä»»åŠ¡

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :3000

# ä¿®æ”¹ç«¯å£
# ç¼–è¾‘ .env æ–‡ä»¶ä¸­çš„ PORT é…ç½®
```

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥æ•°æ®ç›®å½•æƒé™
ls -la data/

# æ‰‹åŠ¨åˆ›å»ºæ•°æ®ç›®å½•
mkdir -p data
```

3. **æ–‡ä»¶ä¸Šä¼ å¤±è´¥**
```bash
# æ£€æŸ¥ä¸Šä¼ ç›®å½•æƒé™
ls -la uploads/

# åˆ›å»ºä¸Šä¼ ç›®å½•
mkdir -p uploads/{images,documents,other}
```

## ğŸ“ˆ ç›‘æ§å’Œç»´æŠ¤

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
npm run server:start 2>&1 | tee server.log

# æŸ¥çœ‹æ•°æ®åº“å¤§å°
du -sh data/cms_content.db
```

### å®šæœŸç»´æŠ¤
1. æ•°æ®åº“å¤‡ä»½
```bash
# å¤‡ä»½æ•°æ®åº“
cp data/cms_content.db data/backup_$(date +%Y%m%d_%H%M%S).db
```

2. æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```bash
# æ¸…ç†ä¸Šä¼ æ–‡ä»¶ä¸­çš„ä¸´æ—¶æ–‡ä»¶
find uploads/ -name "*.tmp" -delete
```

## ğŸ”„ å‡çº§å’Œè¿ç§»

### æ•°æ®è¿ç§»
å¦‚éœ€å°†ç°æœ‰Tauriåº”ç”¨æ•°æ®è¿ç§»åˆ°Webç‰ˆæœ¬ï¼š

1. å¯¼å‡ºTauriåº”ç”¨æ•°æ®
2. è½¬æ¢æ•°æ®æ ¼å¼
3. å¯¼å…¥åˆ°æ–°çš„SQLiteæ•°æ®åº“

### ç³»ç»Ÿå‡çº§
```bash
# å¤‡ä»½æ•°æ®
cp -r data/ backup_data/
cp -r uploads/ backup_uploads/

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡æ–°å®‰è£…ä¾èµ–
npm install

# é‡æ–°æ„å»º
npm run build:web

# é‡å¯æœåŠ¡å™¨
npm run server:start
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
3. ç¡®è®¤ç½‘ç»œè¿æ¥
4. éªŒè¯ç¯å¢ƒé…ç½®

éœ€è¦è¿›ä¸€æ­¥ååŠ©è¯·è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚ 